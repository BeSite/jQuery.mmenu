@import '../../mixins', '../../includes', '../../variables';

:root {
    --mm-size: #{$mm_menuSize};
    --mm-min-size: #{$mm_menuMinSize};
    --mm-max-size: #{$mm_menuMaxSize};
}

//	Animations
.mm-page {
    box-sizing: border-box;
    position: relative;
    background: inherit;
}

.mm-slideout {
    z-index: 1;
    transition: transform $mm_transitionDuration $mm_transitionFunction;
}

//	Wrapper
.mm-wrapper {
    &--opened {
        position: relative;
        overflow-x: hidden;

        .mm-page {
            min-height: 100vh;
        }
    }
}

//	Menu
.mm-menu--offcanvas {
    position: fixed;
    right: auto;
    z-index: 0;
    width: clamp(var(--mm-min-size), var(--mm-size), var(--mm-max-size));
    transition: transform $mm_transitionDuration $mm_transitionFunction;

    // Visible panels are visible even if the menu is hidden
    &:not(.mm-menu--opened) {
        visibility: hidden;

        .mm-panel {
            display: none;
        }
    }
}

.mm-wrapper--opening .mm-slideout {
    transform: translate3d(
        clamp(var(--mm-min-size), var(--mm-size), var(--mm-max-size)),
        0,
        0
    );
}

@if ($mm_include_offcanvas_blocker) {
    .mm-wrapper__blocker {
        background: rgba(3, 2, 1, 0);
        overflow: hidden;
        display: none;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 2;
    }

    .mm-wrapper--blocking {
        overflow: hidden;

        body {
            overflow: hidden;
        }

        .mm-wrapper__blocker {
            display: block;
        }
    }
}

@import 'offcanvas.rtl';
