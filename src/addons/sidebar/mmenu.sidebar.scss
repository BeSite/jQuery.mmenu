@import '../../mixins', '../../includes', '../../variables';

@if ($mm_include_sidebar_collapsed or $mm_include_sidebar_expanded) {
    :root {
        --mm-sidebar-collapsed-size: #{$mm_sidebarCollapsedSize};
        --mm-sidebar-expanded-size: #{$mm_sidebarExpandedSize};
    }

    .mm-wrapper--sidebar {
        &-collapsed,
        &-expanded {
            body {
                position: relative;
            }

            .mm-slideout {
                transition-property: width, transform;
            }

            .mm-page {
                background: inherit;
                box-sizing: border-box;
                min-height: 100vh;
            }
        }

        &-collapsed .mm-menu--sidebar-collapsed,
        &-expanded .mm-menu--sidebar-expanded {
            display: flex !important;
            top: 0 !important;
            right: auto !important;
            bottom: 0 !important;
            left: 0 !important;

            .mm-panel--parent .mm-navbar,
            .mm-panel--parent .mm-divider {
                opacity: 0;
            }
        }
    }
}

@if ($mm_include_sidebar_collapsed) {
    .mm-wrapper--sidebar {
        &-collapsed {
            .mm-slideout {
                width: calc(100% - var(--mm-sidebar-collapsed-size));
                transform: translate3d(var(--mm-sidebar-collapsed-size), 0, 0);
            }
        }
    }
}

@if ($mm_include_sidebar_expanded) {
    .mm-wrapper--sidebar {
        &-expanded {
            .mm-menu--sidebar-expanded {
                width: var(--mm-sidebar-expanded-size);
                border-right-width: 1px;
                border-right-style: solid;
            }

            .mm-wrapper__blocker {
                display: none !important;
            }

            &:not(.mm-wrapper--sidebar-closed) {
                .mm-menu--sidebar-expanded.mm-menu--opened {
                    ~ .mm-slideout {
                        width: calc(100% - var(--mm-sidebar-expanded-size));
                        transform: translate3d(
                            var(--mm-sidebar-expanded-size),
                            0,
                            0
                        );
                    }
                }
            }
        }
    }
}

@if ($mm_include_sidebar_blocker) {
    .mm-menu__blocker {
        background: rgba(3, 2, 1, 0);
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 3;

        .mm-menu--opened & {
            display: none;
        }
    }
}

@import 'sidebar.rtl';
